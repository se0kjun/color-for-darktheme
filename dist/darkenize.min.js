"use strict";function darkenize(){this.dark_theme_attribute=["background-color","color","border-bottom-color","border-top-color","border-left-color","border-right-color"],this.color_preset={},this.stop_elem=[],this.dynamic_coloring=!1}darkenize.prototype.autoColorize=function(){},darkenize.prototype.setColorForDarkTheme=function(r,e,o,t){var a;if(void 0===typeof window)throw"This method is only available in web browser";return a=window.getComputedStyle(r),r.style.background-color=this.getColorForDarkTheme(a["background-color"],e,o,t),r.style.color=this.getColorForDarkTheme(a.color,e,o,t),r.style.border-bottom-color=this.getColorForDarkTheme(a["border-bottom-color"],e,o,t),r.style.border-top-color=this.getColorForDarkTheme(a["border-top-color"],e,o,t),r.style.border-left-color=this.getColorForDarkTheme(a["border-left-color"],e,o,t),r.style.border-right-color=this.getColorForDarkTheme(a["border-right-color"],e,o,t),r},darkenize.prototype.getColorForDarkTheme=function(r,e,o,t){var a=darkenize.parseColor(r),l=r,n=e||.5,i=o||.3,c=1;if("rgb"==a.space){var s=darkenize.rgb2hsv(a.value[0],a.value[1],a.value[2]);s.v>n&&(o?s.v*=i:s.v*=i*c,l=darkenize.hsv2rgb(s.h,s.s,s.v,"hex"))}else"hsv"==a.space&&a.value[2]>n&&(o?a.value[2]*=i:a.value[2]*=i*c,l=darkenize.hsv2rgb(a.value[0],a.value[1],a.value[2],"hex"));return l},darkenize.rgb2hsv=function(r,e,o,t){var a=t||"object",l={_r:r/255,_g:e/255,_b:o/255},n=Object.keys(l).reduce(function(r,e){return l[r]>l[e]?r:e}),i=Object.keys(l).reduce(function(r,e){return l[r]<l[e]?r:e}),c=l[n]-l[i],s=60;if("_r"==n?s*=(l._g-l._b)/c%6:"_g"==n?s*=(l._b-l._r)/c+2:"_b"==n&&(s*=(l._r-l._g)/c+4),"object"==a)return{h:0==c?0:s,s:0==l[n]?0:c/l[n],v:l[n]}},darkenize.hsv2rgb=function(r,e,o,t){var a=t||"hex",l=r<0?r+360:r,n={_r:0,_g:0,_b:0},i=e*o,c=i*(1-Math.abs(l/60%2-1)),s=o-i;return l>=0&&l<60?(n._r=i,n._g=c):l>=60&&l<120?(n._r=c,n._g=i):l>=120&&l<180?(n._g=i,n._b=c):l>=180&&l<240?(n._g=c,n._b=i):l>=240&&l<300?(n._r=c,n._b=i):l>=300&&l<360&&(n._r=i,n._b=c),"object"==a?{r:255*(n._r+s),g:255*(n._g+s),b:255*(n._b+s)}:"hex"==a?"#"+((1<<24)+(Math.floor(255*(n._r+s))<<16)+(Math.floor(255*(n._g+s))<<8)+Math.floor(255*(n._b+s))).toString(16).slice(1):void 0},darkenize.parseColor=function(r){var e,o;if(0==r.indexOf("#")){o="rgb",4==r.length&&(r=r.replace(/\w/g,function(r){return r+r}));var t=parseInt(r.substr(1),16);e=[t>>16&255,t>>8&255,255&t]}else r.indexOf("rgb")?(o="rgb",e=r.match(/([0-9]*[.])?[0-9]+/g).map(function(r){return parseFloat(r)})):r.indexOf("hsv")&&(o="hsv",e=r.match(/([0-9]*[.])?[0-9]+/g).map(function(r){return parseFloat(r)}));return{space:o,value:e}},window.darkenize=module.exports=darkenize;